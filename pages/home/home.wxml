<!--pages/home.wxml-->
<!-- <nav-bar title="智能观心枕" showNavBtn="{{false}}"  bgColor="#0b2853" titleColor="#fff"/> -->
<view class="container">
  <!-- <view class="top-space"></view> -->
  <image src="../../static/bg.jpg" class="pillow-img"/>
  <view class="card-grid">
    <!-- 心率 --> 
    <view class="card">
      <view class="card-header">
        <image src="../../static/heart_rate.png" class="card-icon"/>
        <text class="card-title">心率</text>
      </view>
      <view class="card-value">
        {{deviceConnected ? (heartRate !== null ? heartRate + ' 次/分' : '.. 次/分') : '.. 次/分'}}
      </view>
    </view>
    <!-- 呼吸 -->
    <view class="card">
      <view class="card-header">
        <image src="../../static/breath.png" class="card-icon"/>
        <text class="card-title">呼吸</text>
      </view>
      <view class="card-value">
        {{deviceConnected ? (breathRate !== null ? breathRate + ' 次/分' : '.. 次/分') : '.. 次/分'}}
      </view>
    </view>
   <!-- 体动状态 -->
   <view class="card">
     <view class="card-header">
       <image src="../../static/turn_over.png" class="card-icon"/>
       <text class="card-title">体动</text>
     </view>
     <view class="card-value">
       {{deviceConnected ? (turnOver === 1 ? '有' : (turnOver === 0 ? '无' : '..')) : '..'}}
     </view>
   </view>
    <!-- 是否离枕 -->
    <view class="card">
      <view class="card-header">
        <image src="../../static/exit.png" class="card-icon"/>
        <text class="card-title">是否离枕</text>
      </view>
      <view class="card-value">
        {{deviceConnected ? (isLeavePillow !== null ? (isLeavePillow ? '是' : '否') : '..') : '..'}}
      </view>
    </view>
    
    <!-- 设备状态指示器 -->
    <view class="device-status-overlay" bind:tap="toBlueIndex">
      <view class="status-circle {{deviceStatusClass}}">
        <text class="status-main-text">{{deviceStatusText}}</text>
        <text class="status-sub-text">{{deviceSubText}}</text>
      </view>
    </view>
  </view>
</view>