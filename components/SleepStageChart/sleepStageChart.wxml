<!--components/SleepStageChart/sleepStageChart.wxml-->
<view class="sleep-stage-chart">
  <!-- iPhone 风格睡眠图表 -->
  <view class="iphone-sleep-chart">
    <view class="chart-header">
      <text class="chart-title">睡眠阶段</text>
      <text class="chart-subtitle">{{chartData.startTime}} - {{chartData.endTime}}</text>
    </view>
    
    <view class="sleep-timeline">
      <!-- 时间轴 -->
      <view class="time-axis">
        <view class="time-marker" wx:for="{{timeMarkers}}" wx:key="index" style="left: {{item.position}}%">
          <text class="time-label">{{item.time}}</text>
        </view>
      </view>
      
      <!-- ECharts 多行块状图 -->
      <ec-canvas 
        id="sleepStageChart" 
        canvas-id="sleepStageChart" 
        ec="{{ecConfig}}"
        class="sleep-stage-echarts"
        wx:if="{{ecConfig}}">
      </ec-canvas>
      
      <!-- 调试信息 -->
      <view class="debug-info" wx:if="{{!ecConfig}}">
        <text class="debug-text">ECharts 配置未加载</text>
      </view>
    </view>
  </view>
</view>
